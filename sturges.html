<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title></title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="css/web_style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Ibon Martínez Arranz</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home fa-2x"></span>
     
     Inicio
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-user fa-2x"></span>
     
     Sobre mí
  </a>
</li>
<li>
  <a href="blog.html">
    <span class="fa fa-comment fa-2x"></span>
     
     Blog
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-th-list fa-2x"></span>
     
     Más
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="manual.html">
        <span class="fa fa-book fa-1x"></span>
         
         Manual de R
      </a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="cv.html">
        <span class="fa fa-user fa-1x"></span>
         
         CV
      </a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term=martinez-arranz">
    <span class="fa fa-university fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/company/owl">
    <span class="fa fa-linkedin-square fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/imarranz">
    <span class="fa fa-twitter-square fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="http://www.github.com/imarranz">
    <span class="fa fa-github-square fa-2x"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>




</div>


<div id="regla-de-sturges" class="section level3">
<h3>Regla de Sturges</h3>
<p>En estadística descriptiva la <a href="https://es.wikipedia.org/wiki/Regla_de_Sturges">Regla de Sturges</a> es un criterio muy utilizado cuando se quiere realizar un histograma de frecuencias ya que con esta regla se calcula el número de clases (o intervalos) necesarios para representar fielmente los datos.</p>
<p>La <em>Regla de Sturges</em> nos propone que dadas <em>N</em> observaciones, el número <em>k</em> de intervalos viene dado por</p>
<span class="math display">\[\begin{equation}
k = 1 + log_{2}(N)
\end{equation}\]</span>
<p>Donde <em>N</em> es el número de muestras observadas y <em>k</em> el número óptimo de clases o intervalos.</p>
<p>Hoy en día, con el uso del ordenador, esta regla se hace menos conocida ya que son los propios paquetes estadísticos los que se encargan de calcular el número de intervalos óptimo. De hecho, en <code>R</code>, el comando <code>hist</code> tiene el parámetro <code>breaks = “Sturges”</code> por defecto, aunque siempre podemos modificar este parámetro.</p>
<p>Ahora bien, ¿de donde viene la regla de Sturges?</p>
<p>Sturges consideró un histograma de frecuencias ideal con <em>k</em> intervalos, donde el <em>i</em>-ésimo intervalo contiene un número de muestras dado por el <a href="https://es.wikipedia.org/wiki/Coeficiente_binomial">Coeficiente Binomial</a>:</p>
<span class="math display">\[\begin{equation}
{\displaystyle C_{(k-1,i)}},\, C^{k-1}_i,\, {\displaystyle {k-1 \choose i}={\frac {(k-1)!}{i!(k-1-i)!}}}
\end{equation}\]</span>
<p>En <code>R</code> se puede calcular el Coeficiente Binomial mediante la función <code>combn(k-1, i)</code>.</p>
<p>Por el Teorema Central del Límite sabemos que cuando <em>k</em> aumente el histograma de frecuencias se aproximará a la distribución Normal, por lo que podemos calcular el número de muestras de todos los intervalos, ya que</p>
<span class="math display">\[\begin{equation}
N = \sum_{i=0}^{k-1}{k-1 \choose i} = (1+1)^{k-1} = 2^{k-1}
\end{equation}\]</span>
<p>Si aplicamos logaritmos a ambas partes de la ecuación, tenemos:</p>
<span class="math display">\[\begin{equation}
log_{2}(N) = k - 1
\end{equation}\]</span>
<p>por lo que el número óptimo de intervalo <em>k</em> vendrá dado por:</p>
<span class="math display">\[\begin{equation}
k = 1 + log_{2}(N)
\end{equation}\]</span>
<p>que es la <em>Regla de Sturges</em>.</p>
<p>Veamos algunos ejemplos donde podamos ver el ajuste dado por este criterio. Vamos a considerar 500 muestras provenientes de una distribución normal de media 10 y desviación típica 2.</p>
<pre class="r"><code>x &lt;- rnorm(500, mean = 10, sd = 2)</code></pre>
<p>Ahora realizamos tres histogramas con estos datos em los que vamos a aplicar la <em>Regla de Sturges</em> y una aproximación por debajo y por encima del número de intervalos propuestos por la <em>Regla de Sturges</em>. Si calculamos el número de intervalos porpuestos por la <em>Regla de Sturges</em> vemos que:</p>
<span class="math display">\[\begin{equation}
k = 1 + log_{2}(N) = 1 + log_{2}(500) \approx 10
\end{equation}\]</span>
<p>Es decir, 10 intervalos.</p>
<pre class="r"><code>par(mfrow = c(1, 3))
hist(x, breaks = 5, col = &quot;lightblue&quot;, main = &quot;breaks = 5&quot;)
hist(x, breaks = &quot;Sturges&quot;, col = &quot;lightblue&quot;, main = &quot;breaks = Sturges&quot;)
hist(x, breaks = 20, col = &quot;lightblue&quot;, main = &quot;breaks = 20&quot;)</code></pre>
<div class="figure" style="text-align: center">
<img src="figuras/blog/sturges/regla_sturges_1-1.png" alt="**FIGURA 1**: Tres aproximaciones a la distribución de las 500 observaciones siguiendo tres criterios." width="768" />
<p class="caption">
<strong>FIGURA 1</strong>: Tres aproximaciones a la distribución de las 500 observaciones siguiendo tres criterios.
</p>
</div>
<p>Observamos que al usar la regla <code>Sturges</code> no obtenemos exactamente 10 clases, ya que la función intenta ajustar el número de intervalos óptimo con unos cortes <em>naturales</em>. En esta caso, los cortes coinciden con valores enteros.</p>
<hr />
</div>
<div id="bibliografia" class="section level3">
<h3>Bibliografía</h3>
<!--
<div id="footer">
<br>
Ibon Martínez Arranz &#149; Calle Santa Eulalia 45, 10ºD 48980 Santurtzi (Bizkaia) &#149;
<br>☎ 626015495 &#149; ☎ 944838823  &#149; ✉ <span class="links"><a href='mailto:ibon.martinez@gmail.com?subject=Contacto a través de curriculum vitae&body=Estimado Ibon,'>ibon.martinez@gmail.com</a></span>
</div>

Ibon Martínez Arranz&nbsp;&nbsp;&nbsp;
<a href="mailto:ibon.martinez@gmail.com"><i class="fa fa-envelope-square fa-2x"></i></a>&nbsp;&nbsp;&nbsp;
<a href="www.google.com"><i class="fa fa-linkedin-square fa-2x"></i>

Ibon Martínez Arranz&nbsp;&nbsp;&nbsp;
<a href="mailto:ibon.martinez@gmail.com"><i class="fa fa-envelope-square fa-2x"></i></a>&nbsp;&nbsp;&nbsp;
<a href="www.google.com"><i class="fa fa-linkedin-square fa-2x"></i>
-->
<div id="footer">
<p>|   Ibon Martínez Arranz   |   2018   |   <a href="mailto:ibon.martinez@imarranz.com">contacto</a>   |</p>
</div>
<div id="refs" class="references">
<div id="ref-altmanslr2015">
<p>Altman, Naomi, and Martin Krzywinski. 2015. “Simple Linear Regression.” <em>Nature Methods</em> 12 (11): 999–1000.</p>
</div>
<div id="ref-altman2016a">
<p>———. 2016a. “Points of Significance: Analyzing Outliers: Influential or Nuisance?” <em>Nature Methods</em> 13 (4): 281–82.</p>
</div>
<div id="ref-altman2016b">
<p>———. 2016b. “Points of Significance: Regression Diagnostics.” <em>Nature Methods</em> 13 (5): 385–86.</p>
</div>
<div id="ref-armitage2014">
<p>Armitage, Emily G., and Coral Barbas. 2014. “Metabolomics in Cancer Biomarker Discovery: Current Trends and Future Perspectives.” <em>J Pharm Biomed Anal</em> 87 (January). Centre for Metabolomics; Bioanalysis (CEMBIO), Faculty of Pharmacy, Universidad San Pablo CEU, Campus Monteprincipe, Boadilla del Monte, 28668 Madrid, Spain.: 1–11. doi:<a href="https://doi.org/10.1016/j.jpba.2013.08.041">10.1016/j.jpba.2013.08.041</a>.</p>
</div>
<div id="ref-miroslava2013">
<p>Čuperlović-Culf, Miroslava. 2013. “5 - Metabolomics Data Analysis – Processing and Analysis of a Dataset.” In <em>{NMR} Metabolomics in Cancer Research</em>, edited by Miroslava Čuperlović-Culf, 261–333. Woodhead Publishing Series in Biomedicine. Woodhead Publishing. doi:<a href="https://doi.org/http://dx.doi.org/10.1533/9781908818263.261">http://dx.doi.org/10.1533/9781908818263.261</a>.</p>
</div>
<div id="ref-fox1997">
<p>Fox, J. 1997. <em>Applied Regression Analysis, Linear Models, and Related Methods</em>. SAGE Publications.</p>
</div>
<div id="ref-krzywinskipostd2014">
<p>Krzywinski, Martin, and Naomi Altman. 2014. “Points of Significance: Two-Factor Designs.” <em>Nature Methods</em> 11 (12): 1187–8.</p>
</div>
<div id="ref-kuehl2001">
<p>Kuehl, R.O., and M.G. Osuna. 2001. <em>Diseño de Experimentos: Principios Estadísticos de Diseño Y análisis de Investigación</em>. Matemáticas (Thomson). International Thomson Editores, S. A. de C. V.</p>
</div>
<div id="ref-martinezarranz2015">
<p>Martínez-Arranz, Ibon, Rebeca Mayo, Miriam Pérez-Cormenzana, Itziar Mincholé, Lorena Salazar, Cristina Alonso, and José M. Mato. 2015. “Enhancing Metabolomics Research Through Data Mining.” <em>Journal of Proteomics</em> 127, Part B (0): 275–88. doi:<a href="https://doi.org/http://dx.doi.org/10.1016/j.jprot.2015.01.019">http://dx.doi.org/10.1016/j.jprot.2015.01.019</a>.</p>
</div>
<div id="ref-pulido2004">
<p>Pulido, H.G., R. de la Vara Salazar, P.G. González, C.T. Martínez, and M.C.T. Pérez. 2004. <em>Análisis Y Diseño de Experimentos</em>. McGraw-Hill.</p>
</div>
<div id="ref-xie2014">
<p>Xie, Yihui. 2014. “Knitr: A Comprehensive Tool for Reproducible Research in R.” In <em>Implementing Reproducible Computational Research</em>, edited by Victoria Stodden, Friedrich Leisch, and Roger D. Peng. Chapman; Hall/CRC. <a href="http://www.crcpress.com/product/isbn/9781466561595" class="uri">http://www.crcpress.com/product/isbn/9781466561595</a>.</p>
</div>
<div id="ref-xie2015">
<p>———. 2015. <em>Dynamic Documents with R and Knitr</em>. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <a href="http://yihui.name/knitr/" class="uri">http://yihui.name/knitr/</a>.</p>
</div>
<div id="ref-xie2016package">
<p>———. 2016. <em>Knitr: A General-Purpose Package for Dynamic Report Generation in R</em>. <a href="http://yihui.name/knitr/" class="uri">http://yihui.name/knitr/</a>.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
